<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitHUB - Payment</title>
  <link rel="stylesheet" href="payment.css">
</head>
<body>

  <!-- ✅ Payment Form Container -->
  <div class="container">
    <h3 class="title">Complete Your Payment</h3>

    <form class="payment-form" id="paymentForm" action="http://localhost:8000/payment" method="POST">

      <!-- Selected Plan -->
      <div class="form-group">
        <label for="plan_name">Selected Subscription:</label>
        <input type="text" id="plan_name" name="plan_name" readonly required>
      </div>

      <!-- Amount -->
      <div class="form-group">
        <label for="amount">Amount (₹):</label>
        <input type="number" id="amount" name="amount" readonly required />
      </div>

      <!-- Mode of Payment -->
      <div class="form-group">
        <label for="mode">Mode of Payment:</label>
        <select name="mode" id="mode" required>
          <option value="">-- Select Mode --</option>
          <option value="Online">Online</option>
          <option value="Offline">Offline</option>
        </select>
      </div>

      <!-- Payment Method -->
      <div class="form-group">
        <label for="method">Payment Method:</label>
        <select name="method" id="method" required>
          <option value="">-- Select Method --</option>
          <option value="UPI">UPI</option>
          <option value="Credit Card">Credit Card</option>
          <option value="Debit Card">Debit Card</option>
          <option value="Net Banking">Net Banking</option>
          <option value="Cash">Cash</option>
        </select>
      </div>

      <!-- Transaction ID -->
      <div class="form-group">
        <label for="transaction_id">Transaction ID:</label>
        <input type="text" id="transaction_id" name="transaction_id" placeholder="Enter transaction/reference ID" required />
      </div>

      <!-- Enrollment & Expiry Date -->
      <div class="form-group">
        <label for="enrollment_date">Enrollment Date:</label>
        <input type="date" id="enrollment_date" name="enrollment_date" required>
      </div>

      <div class="form-group">
        <label for="expiry_date">Expiry Date:</label>
        <input type="date" id="expiry_date" name="expiry_date" readonly required>
      </div>

      <div class="click">
        <button type="submit" id="payBtn" class="btn">Make Payment</button>
        <br>
        <p class="login-link">Want to change plan? <a href="subscriptions.html">Go Back</a></p>
      </div>

    </form>
  </div>

  <!-- ✅ Auto-fill Script -->
  <script src="payment.js">
    /*
    // Extract plan and amount from URL
    const params = new URLSearchParams(window.location.search);
    const plan = params.get('plan');
    const amount = params.get('amount');

    if (plan) document.getElementById('plan_name').value = plan;
    if (amount) document.getElementById('amount').value = amount;

    // Update expiry date based on enrollment date input
    const enrollmentInput = document.getElementById('enrollment_date');
    const expiryInput = document.getElementById('expiry_date');

    enrollmentInput.addEventListener('change', function() {
      const date = new Date(this.value);
      if (!isNaN(date)) {
        const expiry = new Date(date);
        expiry.setMonth(expiry.getMonth() + 1);
        const yyyy = expiry.getFullYear();
        const mm = String(expiry.getMonth() + 1).padStart(2, '0');
        const dd = String(expiry.getDate()).padStart(2, '0');
        expiryInput.value = `${yyyy}-${mm}-${dd}`;
      } else {
        expiryInput.value = '';
      }
    });
    */
    
  </script>

</body>
</html>
